API_Provider,Endpoint_Path,Full_URL_Example,HTTP_Method,Purpose,Parameters,Response_Data,Calls_Per_Symbol,Total_Calls_19_Symbols,File_Location,Line_Number,Tier_Required,Notes
Massive.com,/v2/aggs/ticker/{ticker}/prev,https://api.massive.com/v2/aggs/ticker/SPY/prev,GET,Get previous day's closing price for a stock,apiKey (required); ticker (in path),Close price (c); Open (o); High (h); Low (l); Volume (v); Timestamp,1,19,python_app/src/data/real_options_fetcher.py,31,Basic,"Called once per symbol at start of screening"
Massive.com,/v3/reference/options/contracts,https://api.massive.com/v3/reference/options/contracts?underlying_ticker=SPY&contract_type=call,GET,List all options contracts matching criteria,apiKey; underlying_ticker; contract_type (call/put); expired=false; limit=250; expiration_date.gte; expiration_date.lte; strike_price.gte; strike_price.lte,Array of contract objects with ticker; strike_price; expiration_date; contract_type,2,38,python_app/src/data/real_options_fetcher.py,58,Options Starter,"Called twice per symbol (once for calls, once for puts). Returns up to 250 contracts per call"
Massive.com,/v3/quotes/{optionsTicker},https://api.massive.com/v3/quotes/O:SPY251205C00700000,GET,Get current bid/ask quote for specific option contract,apiKey; optionsTicker (in path format: O:SYMBOL251205C00700000),Bid price; Ask price; Bid size; Ask size; Last trade; Exchange; Timestamp,40,760,python_app/src/data/real_options_fetcher.py,106,Options Starter,"Called for up to 20 call contracts + 20 put contracts per symbol (40 total). Used to get current market prices"
Massive.com,/v3/snapshot/options/{underlyingAsset}/{optionContract},https://api.massive.com/v3/snapshot/options/SPY/O:SPY251205C00700000,GET,Get Greeks and implied volatility for option contract,apiKey; underlyingAsset (SPY); optionContract (O:SPY251205C00700000),Greeks (delta; gamma; theta; vega); Implied volatility; Open interest; Volume; Last price,40,760,python_app/src/data/real_options_fetcher.py,168,Options Advanced,"Called for up to 20 call contracts + 20 put contracts per symbol (40 total). Required for delta and IV calculations"
Anthropic,/v1/messages,https://api.anthropic.com/v1/messages,POST,Generate AI rationales for top picks,API key in x-api-key header; model (claude-3-5-haiku-20241022); messages array; max_tokens (350),AI-generated text explaining why the option pick is attractive,5,5,python_app/src/services/claude_service.py,54,N/A,"Called once for each of top 5 picks. Not a Massive/Polygon endpoint"
Telegram,/bot{token}/sendMessage,https://api.telegram.org/bot{token}/sendMessage,POST,Send alerts to Telegram,bot token (in URL); chat_id; text; parse_mode=Markdown,Message ID; Success status,1-10,1-10,python_app/src/services/telegram_service.py,126,N/A,"Called for daily alerts. Not a Massive/Polygon endpoint"
